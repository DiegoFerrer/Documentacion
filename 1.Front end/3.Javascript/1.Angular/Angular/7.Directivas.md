
<!--  
				Hay 3 tipos de directivas:

	# Componentes: Son directivas que siempre tienen asignados templates de HTML.
	# Estructurales: Directivas que cambian el DOM | IF, FOR,ETC.
	# Atributos: Directivas implementadas a traves de atributos que pueden modificar el elemento
				 al que estan asignadas

	Angular no permite poner mas de una directiva estructural a un mismo elemento
	Para esto hay que usar una etiqueta ng-container para solucionarlo


 	ngSwitch no evalua expresiones como ngclass o ng style, si no que tiene que ser siempre igual a algo

-->

<html>


<ng-container *ngFor="let estudiante of listaEstudiantes"> 
    <img *ngIf="estudiante.fotoURL" mat-line mat-list-avatar [src]="estudiante.fotoURL" alt="">
    <img *ngIf="!estudiante.fotoURL" mat-line mat-list-avatar [src]="DEFAULT_PICTURE" alt="">
 </ng-container>

<ng-container *ngFor="let estudiante of listaEstudiantes" [ngSwitch]="lugar.cercania"> 
    <a><li contar-clicks [ngStyle]="{color:(condicion) ? 'black' : 'gray' }" [ngClass]="{numero_par: (condicion)}" [resaltar]="lugar.plan">{{propiedad}}</li></a>
    <span ngSwitchCase="1" [ngStyle="{color: 'green}"]>Muy cerca</span>
    <span ngSwitchCase="2" [ngStyle="{color: 'black}"]>cerca</span>
    <span ngSwitchCase="3" [ngStyle="{color: 'red}"]>Lejos</span>
 </ng-container>


<!-- Crear directiva propia -->

</html>

<style type="text/css">
	.numero_par{
		background-color: blue;
		color:white;
	}

</style>

<script>
	lugar:any = [
		{
			cercania: 1,
			distancia: 2,
			plan: 'Pago'
		}
	]
	// crear una carpeta directives y crear archivo de la directiva en este caso seria 
	// resaltar.directive.ts
	import {Directive, OnInit,ElementRef,Renderer2} from '@angular/core';

	@Directive({
		selector: '[resaltar]'
	})

	export class resaltarDirective implements OnInit{
		constructor(private elRef: ElementRef, private renderer: Renderer2,Input){}
		@Input('resaltar') plan:string = '';
		ngOnInit(){
			iff(this.plan === 'Pago'){
				this.renderer.setStyle(this.elRef.nativeElement, 'background-color','blue')
			}
		}
	}
	//  Este archcivo debe ser importado en el modulo correspondiente y ponerlo en los declarations


	// contar-clicks.directive.ts}
	import {Directive, HostListener} from "@angular/core";
	@Directive({
	    selector: 'li[contar-clicks]'
	})
	export class ContarClicksDirective{
	    clickN = 0;

	     @HostBinding('style.opacity') opacity: number = .1;
	    // Con los host lisener, se puede escuchar eventos en las directivas
	    @HostListener('click', ['$event.target']) onClick(btn){
	        console.log('a', btn, "NÃºmero de clicks:", this.clickN++);
	        this.opacity += .1;
	    }
	}
	//  Este archcivo debe ser importado en el modulo correspondiente y ponerlo en los declarations
</script>