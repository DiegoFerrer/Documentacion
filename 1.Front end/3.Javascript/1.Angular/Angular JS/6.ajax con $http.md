
<!--  
	$http es un servicio para hacer peticiones asicronas con ajax


 -->
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.6/angular.min.js"></script>

<!-- Peticion GET -->
	<html ng-app="nameModulo">
	  <body ng-controller="NameController">
			<ul>
				<li ng-repeat="post in posts">
					<h2>{{post.title}}</h2>
					<p>{{post.body}}</p>
				</li>
			</ul>
	  </body>
	</html>		
	<script>
		angular.module('nameModulo',[])
			.controller('NameController',function($scope,$http){
				$scope.posts = [];
				/* http tiene diferentes metodos
				aca utilizaremos get('urlDeLaConsulta') */ 
				let url = 'https://jsonplaceholder.typicode.com/posts'
				$http.get(url)
				// este metodo devuelve una promesa y posee dos metodos
					.success(function(data){
						$scope.posts = data;
					});
					.error(function(error){
					});
			})
	</script>

<!-- Peticion POST-->
	<html ng-app="nameModulo">
	  <body ng-controller="NameController">
	  		<input type="text" ng-model="newPost.title">
	  		<textarea ng-model="newPost.body"></textarea>
	  		<button ng-click="addPost()"></button>
			<ul>
				<li ng-repeat="post in posts">
					<h2>{{post.title}}</h2>
					<p>{{post.body}}</p>
				</li>
			</ul>
	  </body>
	</html>		
	<script>
		angular.module('nameModulo',[])
			.controller('NameController',function($scope,$http){
				$scope.posts = [];
				$scope.newPost=[];

				$scope.addPost = function() {
					$http.post('https://jsonplaceholder.typicode.com/posts',{
						title: $scope.newPost.title,
						body: $scope.newPost.body,
						userId: 1
					})
					.success(function(data,status,headers,config){
						$scope.posts.push($scope.newPost)
						$scope.addPost={};
					})
					.error(function(error,status,headers,config){

					})
				}
			})
	</script>
